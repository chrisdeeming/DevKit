<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="XenDevTools" title="Xen Developer Tools" version_string="1.0.0" version_id="1000070" url="http://xenresources.com" install_callback_class="XenDevTools_Install" install_callback_method="installer" uninstall_callback_class="" uninstall_callback_method="">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates>
    <template title="devkit_phrase_filters"><![CDATA[<div class="Popup">
    <span class="muted">{xen:phrase add_on}:</span> <a rel="Menu">{xen:if $addOn, '{$addOn.title}', 'All'}</a>
    <div class="Menu">
        <div class="primaryContent menuHeader"><h3>{xen:phrase add_ons}</h3></div>
        <ul class="secondaryContent blockLinksList">
            <li><a href="{xen:adminlink 'languages/phrases', $language, 'addon_id=All'}"><span>All</span></a></li>
            <li><a href="{xen:adminlink 'languages/phrases', $language, 'addon_id=XenForo'}"><span>XenForo</span></a></li>
            <xen:foreach loop="$addOns" key="$_addOnsId" value="$_addOn">
            <li><a href="{xen:adminlink 'languages/phrases', $language, 'addon_id={$_addOn.addon_id}'}"><span>{$_addOn.title}</span></a></li>
            </xen:foreach>
        </ul>
    </div>
</div>
<div class="Popup">
    <span class="muted">{xen:phrase phrases}:</span> <a rel="Menu">{xen:if $phraseFilterTitle, '{$phraseFilterTitle}', {xen:phrase devkit_existing}}</a>
    <div class="Menu">
        <div class="primaryContent menuHeader"><h3>{xen:phrase phrases}</h3></div>
        <ul class="secondaryContent blockLinksList">
                <li><a href="{xen:adminlink 'languages/phrases', $language, 'phrase_filter=existing'}"><span>{xen:phrase devkit_existing}</span></a></li>
                <xen:if is="{$language.language_id}">
                <li><a href="{xen:adminlink 'languages/phrases', $language, 'phrase_filter=untranslated'}"><span>Untranslated</span></a></li>
                <xen:else />
                <li><a href="{xen:adminlink 'languages/phrases', $language, 'phrase_filter=found'}"><span>Found in code</span></a></li>
                <li><a href="{xen:adminlink 'languages/phrases', $language, 'phrase_filter=undefined'}"><span>Undefined</span></a></li>
                </xen:if>
        </ul>
    </div>
</div>]]></template>
  </admin_templates>
  <admin_template_modifications>
    <modification template="phrase_list" modification_key="XenDevTools_phrase_list" description="Adds the top choosers to the phrase list" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<div class="topChoosers">.*?</ul>\s*?</div>\s*?</div>#s]]></find>
      <replace><![CDATA[$0
<xen:include template="devkit_phrase_filters" />]]></replace>
    </modification>
    <modification template="phrase_list" modification_key="XenDevTools_phrase_list_filtercontrols" description="Removes the filter controls from the phrase list on certain pages." execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:include template="filter_list_controls" />]]></find>
      <replace><![CDATA[<xen:if is="{$phraseFilter} == 'undefined' OR {$phraseFilter} == 'found'"><xen:else />
$0
</xen:if>]]></replace>
    </modification>
    <modification template="phrase_list_items" modification_key="XenDevTools_phrase_list_items" description="Modifies the phrase list items" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[{xen:adminlink 'phrases/edit', $phrase, 'language_id={$language.language_id}'}]]></find>
      <replace><![CDATA[{xen:if '({$phraseFilter} == "undefined" OR {$phraseFilter} == "found") AND !{$phrase.phrase_id}', '{xen:adminlink 'phrases/add', '', 'addon_id={$addOn.addon_id}', 'phrase_title={$phrase.title}'}', '$0'}]]></replace>
    </modification>
  </admin_template_modifications>
  <code_events/>
  <code_event_listeners>
    <listener event_id="load_class_controller" execute_order="10" callback_class="XenDevTools_Listener_Listener" callback_method="extendAddOnController" active="1" hint="XenForo_ControllerAdmin_AddOn" description="Extends the add-on controller"/>
    <listener event_id="load_class_controller" execute_order="10" callback_class="XenDevTools_Listener_Listener" callback_method="extendPhraseController" active="1" hint="XenForo_ControllerAdmin_Phrase" description="Extends the phrase controller"/>
    <listener event_id="load_class_controller" execute_order="10" callback_class="XenDevTools_Listener_Listener" callback_method="extendLanguageController" active="1" hint="XenForo_ControllerAdmin_Language" description="Extends the language controller"/>
    <listener event_id="load_class_model" execute_order="10" callback_class="XenDevTools_Listener_Listener" callback_method="extendPhraseModel" active="1" hint="XenForo_Model_Phrase" description="Extends the Phrase Model"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups/>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="devkit_addon_directory_not_found" version_id="1" version_string="1.00"><![CDATA[Can't find directory of the addon. </br>
It is supposed to be '/library/{dirName}' or '/library/XXX/{dirName}'. </br>
You may copy the files to the supposed dir to make it work.]]></phrase>
    <phrase title="devkit_create_zip" version_id="1" version_string="1.0.4"><![CDATA[Create Zip]]></phrase>
    <phrase title="devkit_error_while_creating_zip" version_id="1" version_string="1.0.4"><![CDATA[Error while creating zip]]></phrase>
    <phrase title="devkit_existing" version_id="0" version_string=""><![CDATA[Existing]]></phrase>
    <phrase title="devkit_found" version_id="0" version_string=""><![CDATA[Found in code]]></phrase>
    <phrase title="devkit_undefined" version_id="0" version_string=""><![CDATA[Undefined]]></phrase>
    <phrase title="devkit_untranslated" version_id="0" version_string=""><![CDATA[Untranslated]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties/>
  <templates/>
  <public_template_modifications/>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
